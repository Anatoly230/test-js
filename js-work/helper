сайт для понимания event loop
http://latentflip.com/loupe/?code=Ly8gJC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24oKXsKLy8gICAgIGNvbnNvbGUubG9nKCdwcmVzZWQnKQovLyB9KQoKY29uc29sZS5sb2coJ3N0YXJ0Jyk7CgpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICBjb25zb2xlLmxvZygndGltZSBvdXQgMCBzZWNvbmRzJykKfSwwKQoKY29uc29sZS5sb2coJ2VuZCcp!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D